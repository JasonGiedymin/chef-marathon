# marathon.conf
# Generated by Chef for <%= node[:fqdn] %>

description "Marathon scheduler for Mesos"

start on runlevel [2345]
stop on runlevel [!2345]

respawn
respawn limit 10 5

# Custom local
script
  exec java \
    <%= @memory_options %> \
    -Djava.library.path=<%= @lib_path %> \
    -cp <%= @marathon_jar %> mesosphere.marathon.Main \
    --zk_hosts <%= @zookeeper_hosts %> \
    --master <%= @master %>

  # Original
  #exec /opt/marathon/marathon.jar --zk_hosts localhost:2181 --master zk://localhost:2181/mesos
end script
